{"ast":null,"code":"import _toConsumableArray from\"/home/kelvin/Development/code/phase-2/Mapishi-mema/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/kelvin/Development/code/phase-2/Mapishi-mema/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useContext,useEffect,useState}from\"react\";import{Container,Button}from\"react-bootstrap\";import{FoodContext}from\"../../App\";import AllMeal from\"../meals/AllMeal/AllMeal\";import NavBar from\"../Shares/NavBar/NavBar\";import SyncLoader from\"react-spinners/SyncLoader\";import toast,{Toaster}from\"react-hot-toast\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allMeal=_useState2[0],setAllMeal=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setSearch=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),card=_useState6[0],setCard=_useState6[1];var _useContext=useContext(FoodContext),_useContext2=_slicedToArray(_useContext,2),foodInfo=_useContext2[0],setFoodInfo=_useContext2[1];// Enter-key-active\nvar enterKeyPress=function enterKeyPress(event){if(event.key===\"Enter\"){document.getElementById(\"search-btn\").click();}};//search-filed and click\nvar handelClick=function handelClick(){var searchText=document.getElementById(\"search-text\").value;document.getElementById(\"search-text\").value=\"\";console.log(searchText);setSearch(searchText);};useEffect(function(){fetch(\"https://www.themealdb.com/api/json/v1/1/search.php?s=\".concat(search)).then(function(res){return res.json();}).then(function(data){if(data.meals){setAllMeal(data.meals);}else{toast.error(\"Your search is not Found\",{duration:4000});}});},[search]);// addToFavourites\nvar handleClick=function handleClick(meal){var newCard=[].concat(_toConsumableArray(card),[meal]);setCard(newCard);setFoodInfo(newCard);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavBar,{}),/*#__PURE__*/_jsx(Toaster,{}),/*#__PURE__*/_jsxs(Container,{className:\"text-center mt-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row p-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-6 mx-auto d-flex justify-content-center align-items-center\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"search-text\",className:\"form-control rounded-3\",onKeyPress:enterKeyPress,type:\"text\",name:\"text\",placeholder:\"search your meal\"}),/*#__PURE__*/_jsx(Button,{id:\"search-btn\",onClick:handelClick,className:\"btn btn-main \",children:\"Search\"})]})}),allMeal.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-content-center justify-content-center p-5\",children:/*#__PURE__*/_jsx(SyncLoader,{color:\"#36D7B7\",loading:allMeal,width:8,height:18,radius:10,margin:10})}):/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 d-flex align-content-center justify-content-center \",children:/*#__PURE__*/_jsx(\"div\",{className:\"row \",children:allMeal.map(function(meal){return/*#__PURE__*/_jsx(AllMeal,{handleClick:handleClick,meal:meal},meal.idMeal);})})})]})]});};export default Home;","map":{"version":3,"names":["React","useContext","useEffect","useState","Container","Button","FoodContext","AllMeal","NavBar","SyncLoader","toast","Toaster","Home","allMeal","setAllMeal","search","setSearch","card","setCard","foodInfo","setFoodInfo","enterKeyPress","event","key","document","getElementById","click","handelClick","searchText","value","console","log","fetch","then","res","json","data","meals","error","duration","handleClick","meal","newCard","length","map","idMeal"],"sources":["/home/kelvin/Development/code/phase-2/Mapishi-mema/src/components/Home/Home.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\nimport { Container, Button } from \"react-bootstrap\";\nimport { FoodContext } from \"../../App\";\nimport AllMeal from \"../meals/AllMeal/AllMeal\";\nimport NavBar from \"../Shares/NavBar/NavBar\";\nimport SyncLoader from \"react-spinners/SyncLoader\";\nimport toast, { Toaster } from \"react-hot-toast\";\n\nconst Home = () => {\n  const [allMeal, setAllMeal] = useState([]);\n  const [search, setSearch] = useState(\"\");\n  const [card, setCard] = useState([]);\n  const [foodInfo, setFoodInfo] = useContext(FoodContext);\n\n  // Enter-key-active\n  const enterKeyPress = (event) => {\n    if (event.key === \"Enter\") {\n      document.getElementById(\"search-btn\").click();\n    }\n  };\n\n  //search-filed and click\n  const handelClick = () => {\n    const searchText = document.getElementById(\"search-text\").value;\n    document.getElementById(\"search-text\").value = \"\";\n    console.log(searchText);\n    setSearch(searchText);\n  };\n\n  useEffect(() => {\n    fetch(`https://www.themealdb.com/api/json/v1/1/search.php?s=${search}`)\n      .then((res) => res.json())\n      .then((data) => {\n        if (data.meals) {\n          setAllMeal(data.meals);\n        } else {\n          toast.error(\"Your search is not Found\", {\n            duration: 4000,\n          });\n        }\n      });\n  }, [search]);\n\n  // addToFavourites\n  const handleClick = (meal) => {\n    const newCard = [...card, meal];\n    setCard(newCard);\n    setFoodInfo(newCard);\n  };\n\n  return (\n    <>\n      <NavBar />\n      <Toaster />\n      <Container className=\"text-center mt-3\">\n        <div className=\"row p-5\">\n          <div className=\"col-md-6 mx-auto d-flex justify-content-center align-items-center\">\n            <input\n              id=\"search-text\"\n              className=\"form-control rounded-3\"\n              onKeyPress={enterKeyPress}\n              type=\"text\"\n              name=\"text\"\n              placeholder=\"search your meal\"\n            />\n\n            <Button\n              id=\"search-btn\"\n              onClick={handelClick}\n              className=\"btn btn-main \"\n            >\n              Search\n            </Button>\n          </div>\n        </div>\n\n        {allMeal.length === 0 ? (\n          <div className=\"d-flex align-content-center justify-content-center p-5\">\n            <SyncLoader\n              color={\"#36D7B7\"}\n              loading={allMeal}\n              width={8}\n              height={18}\n              radius={10}\n              margin={10}\n            />\n          </div>\n        ) : (\n          <div className=\"mt-2 d-flex align-content-center justify-content-center \">\n            <div className=\"row \">\n              {allMeal.map((meal) => (\n                <AllMeal\n                  handleClick={handleClick}\n                  meal={meal}\n                  key={meal.idMeal}\n                />\n              ))}\n            </div>\n          </div>\n        )}\n      </Container>\n    </>\n  );\n};\n\nexport default Home;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}